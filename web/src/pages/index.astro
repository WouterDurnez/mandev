---
import BaseLayout from '../layouts/BaseLayout.astro';
import TerminalNav from '../components/TerminalNav.astro';
import TerminalButton from '../components/TerminalButton.astro';
import ThemeSwitcher from '../components/ThemeSwitcher.tsx';
import DiffToggle from '../components/DiffToggle.tsx';

const navItems = [
  { label: 'home', href: '/' },
  { label: 'login', href: '/login' },
  { label: 'signup', href: '/signup' },
];
---

<BaseLayout title="man.dev">

  <TerminalNav items={navItems} active="home" />

  <main>

    <!-- ═══════════════ HERO: NAME ═══════════════ -->
    <section class="scroll-section">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <pre class="hero-reveal text-terminal-dim text-xs leading-relaxed select-none mb-12">{`MAN.DEV(1)            Developer Identity            MAN.DEV(1)`}</pre>
        <h2 class="hero-reveal text-terminal-accent text-xs uppercase tracking-widest mb-2">Name</h2>
        <p class="hero-reveal pl-6">
          <span class="text-terminal-fg font-bold text-lg">man.dev</span>
          <span class="text-terminal-dim text-lg"> &mdash; your developer profile, written like code</span>
        </p>
      </div>
      <button
        onclick="document.getElementById('description').scrollIntoView({ behavior: 'smooth' })"
        class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 text-terminal-dim hover:text-terminal-fg text-xs select-none tracking-widest bg-transparent border-none cursor-pointer font-mono transition-colors duration-150"
        aria-label="Scroll to next section"
      >↓</button>
    </section>

    <!-- ═══════════════ DESCRIPTION ═══════════════ -->
    <section id="description" class="scroll-section scroll-section-alt">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <h2 class="reveal text-terminal-accent text-xs uppercase tracking-widest mb-4">Description</h2>
        <div class="reveal pl-6 text-terminal-dim leading-relaxed space-y-4 text-sm">
          <p>Most dev profiles read like HR forms. Bios rot. Portfolio sites
             drift. &ldquo;About me&rdquo; sections feel weird to write and worse to
             maintain. None of it lives where you already work.</p>
        </div>
        <div class="reveal pl-6 text-terminal-dim leading-relaxed space-y-4 text-sm mt-4">
          <p><span class="text-terminal-fg font-bold">man.dev</span> is different.
             Your profile is a config file. You push it from the terminal.
             It renders as a <span class="text-terminal-fg">man page</span>.
             That&rsquo;s it.</p>
        </div>
      </div>
      <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 text-terminal-dim text-xs select-none tracking-widest">↓</div>
    </section>

    <!-- ═══════════════ SYNOPSIS ═══════════════ -->
    <section class="scroll-section">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <h2 class="reveal text-terminal-accent text-xs uppercase tracking-widest mb-6">Synopsis</h2>
        <div class="reveal pl-6 text-sm space-y-1">
          <p class="text-terminal-fg text-base">mandev init</p>
          <p class="text-terminal-dim pl-6"># creates .mandev.toml in your project</p>
        </div>
        <div class="reveal pl-6 text-sm space-y-1 mt-4">
          <p class="text-terminal-fg text-base">mandev push</p>
          <p class="text-terminal-dim pl-6"># deploys to you.man.dev</p>
        </div>
      </div>
      <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 text-terminal-dim text-xs select-none tracking-widest">↓</div>
    </section>

    <!-- ═══════════════ EXAMPLES ═══════════════ -->
    <section class="scroll-section scroll-section-alt">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <h2 class="reveal text-terminal-accent text-xs uppercase tracking-widest mb-4">Examples</h2>
        <div class="reveal pl-6">
          <p class="text-terminal-dim text-sm mb-3">A minimal config:</p>
          <pre class="text-terminal-fg text-xs leading-relaxed">{`[profile]
name = "Jane Doe"
tagline = "builds reliable backend systems"

[[skills]]
name = "Python"
level = "expert"

[theme]
scheme = "dracula"`}</pre>
        </div>
      </div>
      <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 text-terminal-dim text-xs select-none tracking-widest">↓</div>
    </section>

    <!-- ═══════════════ EXAMPLES: DIFF ═══════════════ -->
    <section class="scroll-section">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <div class="reveal pl-6">
          <p class="text-terminal-dim text-sm mb-3">What this looks like compared to a generic bio:</p>
          <DiffToggle client:load />
        </div>
      </div>
      <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 text-terminal-dim text-xs select-none tracking-widest">↓</div>
    </section>

    <!-- ═══════════════ OPTIONS ═══════════════ -->
    <section class="scroll-section">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <h2 class="reveal text-terminal-accent text-xs uppercase tracking-widest mb-4">Options</h2>
        <div class="reveal pl-6 text-sm">
          <p class="text-terminal-fg">--scheme=&lt;name&gt;</p>
          <p class="text-terminal-dim pl-6 mb-4">Set the color scheme. Available themes:</p>
          <ThemeSwitcher client:load />
        </div>
        <div class="reveal pl-6 text-sm mt-8">
          <p class="text-terminal-fg">--font=&lt;name&gt;</p>
          <p class="text-terminal-dim pl-6">JetBrains Mono, Fira Code, IBM Plex Mono, Inconsolata,
             Source Code Pro, Victor Mono, Cascadia Code, Hack</p>
        </div>
      </div>
      <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 text-terminal-dim text-xs select-none tracking-widest">↓</div>
    </section>

    <!-- ═══════════════ GETTING STARTED ═══════════════ -->
    <section class="scroll-section scroll-section-alt">
      <div class="max-w-terminal mx-auto px-4 w-full">
        <h2 class="reveal text-terminal-accent text-xs uppercase tracking-widest mb-4">Getting Started</h2>
        <div class="reveal pl-6 text-sm space-y-1">
          <p class="text-terminal-dim"><span class="text-terminal-fg">Config as code</span> &mdash; your identity in a TOML file. <span class="text-terminal-fg">git diff</span> your career.</p>
          <p class="text-terminal-dim"><span class="text-terminal-fg">One command</span> &mdash; push from your terminal. No CMS. No drag-and-drop.</p>
          <p class="text-terminal-dim"><span class="text-terminal-fg">Your aesthetic</span> &mdash; 10 schemes, 8 fonts. Looks like your terminal.</p>
          <p class="text-terminal-dim"><span class="text-terminal-fg">Linkable</span> &mdash; README, PR bio, conference CFPs, Slack status.</p>
        </div>
        <div class="reveal pl-6 text-sm space-y-1 mt-10">
          <p><span class="text-terminal-accent">$</span> <span class="text-terminal-fg">pip install mandev</span></p>
          <p><span class="text-terminal-accent">$</span> <span class="text-terminal-fg">mandev init</span></p>
          <p class="text-terminal-dim pl-6"># edit .mandev.toml</p>
          <p><span class="text-terminal-accent">$</span> <span class="text-terminal-fg">mandev push</span></p>
          <p class="text-terminal-dim pl-6"># live at you.man.dev</p>
        </div>
        <div class="reveal pl-6 mt-10">
          <p class="text-terminal-dim text-sm mb-4">Or sign up in the browser:</p>
          <TerminalButton href="/signup" variant="primary">SIGN UP</TerminalButton>
        </div>
      </div>
    </section>

    <!-- ═══════════════ FOOTER ═══════════════ -->
    <section class="max-w-terminal mx-auto px-4 py-16 space-y-4" style="scroll-snap-align:start">
      <h2 class="text-terminal-accent text-xs uppercase tracking-widest mb-2">See Also</h2>
      <div class="pl-6 text-sm">
        <p>
          <a href="https://github.com" class="text-terminal-accent hover:underline" target="_blank" rel="noopener noreferrer">github.com/mandev</a>
          <span class="text-terminal-dim">(1)</span>
        </p>
      </div>
      <pre class="text-terminal-dim text-xs select-none mt-8">{`man.dev                        2026                        MAN.DEV(1)`}</pre>
    </section>

  </main>

  <script>
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('in-view');
          }
        });
      },
      { threshold: 0.12 }
    );
    document.querySelectorAll('.scroll-section').forEach((el) => observer.observe(el));
  </script>

</BaseLayout>
